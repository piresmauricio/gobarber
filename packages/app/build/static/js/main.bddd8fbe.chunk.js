(this["webpackJsonpbootcamp-gobarber"]=this["webpackJsonpbootcamp-gobarber"]||[]).push([[0],{173:function(n,e,t){n.exports=t(349)},349:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),i=t(35),o=t.n(i),c=t(32),l=t(160),u=t(36),p=t(21),s=(t(182),t(194),t(195),t(29)),d=t(7),m=t(8),f=t(44),b=["#c17285","#A93F55","#555555","#F3F7F0","#d9a0a7","#EBEBEB","#EEEEEE"],g=[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],x=["","Segunda-feira","Ter\xe7a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S\xe1bado","Domingo"],h=["Dispon\xedvel","Reservado","Confirmado","Cancelado"];function v(){var n=Object(d.a)(["\n  width: 100%;\n  max-width: 315px;\n  text-align: center;\n\n  form {\n    display: flex;\n    flex-direction: column;\n    margin-top: 30px;\n\n    input {\n      background: rgba(0, 0, 0, 0.1);\n      border: 0;\n      border-radius: 4px;\n      height: 44px;\n      padding: 0 15px;\n      color: #fff;\n      margin: 0 0 5px;\n\n      &::placeholder {\n        color: rgba(255, 255, 255, 0.7);\n      }\n    }\n\n    span {\n      color: #fb6f91;\n      align-self: flex-start;\n      margin: 0 0 15px 10px;\n\n      font-size: 12px;\n    }\n\n    button {\n      margin: 5px 0 0;\n      height: 44px;\n      background: #fb6f91;\n      font-weight: bold;\n      color: #fff;\n      border: 0;\n      border-radius: 4px;\n      font-size: 16px;\n\n      &:hover {\n        background: ",";\n      }\n    }\n\n    a {\n      color: #fff;\n      margin-top: 15px;\n      font-size: 14px;\n      opacity: 0.8;\n\n      &:hover {\n        opacity: 1;\n      }\n    }\n  }\n\n  > img {\n    max-width: 200px;\n  }\n"]);return v=function(){return n},n}function E(){var n=Object(d.a)(["\n  height: 100%;\n\n  background: linear-gradient(\n    -90deg,\n    ",",\n    ","\n  );\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return E=function(){return n},n}var O=m.c.div(E(),b[0],b[1]),y=m.c.div(v(),Object(f.a)(.03,"#fb6f91"));function j(n){var e=n.children;return r.a.createElement(O,null,r.a.createElement(y,null,e))}function w(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n\n  background: ",";\n  color: ",";\n\n  overflow: auto;\n"]);return w=function(){return n},n}var k=m.c.div(w(),b[5],b[2]),S=t(23);function _(){var n=Object(d.a)(["\n  display: flex;\n  margin-left: 20px;\n  padding-left: 20px;\n  border-left: 1px solid #eee;\n  color: ",";\n\n  div {\n    text-align: right;\n    margin-right: 10px;\n\n    strong {\n      display: block;\n      margin-top: 6px;\n    }\n\n    a {\n      display: block;\n      margin-top: 2px;\n      font-size: 11px;\n      color: ",";\n    }\n\n    @media (max-width: ",") {\n      strong,\n      a {\n        display: none;\n      }\n    }\n  }\n\n  img {\n    width: 43px;\n    height: 43px;\n    border-radius: 50%;\n  }\n"]);return _=function(){return n},n}function I(){var n=Object(d.a)(["\n  height: 64px;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  nav {\n    display: flex;\n    align-items: center;\n\n    img {\n      max-width: 145px;\n      max-height: 145px;\n      border-radius: 5px;\n      margin-right: 20px;\n      padding-right: 20px;\n    }\n\n    a {\n      font-weight: bold;\n      color: ",";\n    }\n  }\n\n  aside {\n    display: flex;\n    align-items: center;\n  }\n"]);return I=function(){return n},n}function U(){var n=Object(d.a)(["\n  width: 100%;\n  background: linear-gradient(\n    -90deg,\n    ",",\n    ","\n  );\n  padding: 0 30px;\n\n  @media (max-width: ",") {\n    padding-left: 15px;\n  }\n\n  @media (max-width: ",") {\n    padding-left: 7px;\n  }\n"]);return U=function(){return n},n}var z=m.c.div(U(),b[0],b[4],"425px","320px"),C=m.c.div(I(),b[3]),N=m.c.div(_(),b[3],b[3],"768px"),R=t(52),A=t.n(R),F=t(12),P=t.n(F),T=t(107),D=t(43),G=t(30),L=t(17),M=t(363),Q=t(353),q=t(79),B=t(164),H=t.n(B).a.create({baseURL:"http://localhost:3333"}),J=t(53),Z=t.n(J);function V(){var n=Object(d.a)(["\n      &::after {\n        content: '';\n        display: inline-block;\n        width: 6px;\n        height: 6px;\n        background: #c17285;\n        border-radius: 50%;\n      }\n    "]);return V=function(){return n},n}function Y(){var n=Object(d.a)(["\n  color: #fff;\n\n  & + div {\n    margin-top: 15px;\n    padding-top: 15px;\n    border-top: 1px solid rgba(255, 255, 255, 0.1);\n  }\n\n  p {\n    font-size: 12px;\n    line-height: 18px;\n  }\n\n  time {\n    font-size: 12px;\n    opacity: 0.6;\n  }\n\n  button {\n    font-size: 12px;\n    border: 0;\n    background: none;\n    color: ",";\n    padding: 0 5px;\n    margin: 0 5px;\n    border-left: 1px solid rgba(255, 255, 255, 0.1);\n  }\n\n  ","\n"]);return Y=function(){return n},n}function K(){var n=Object(d.a)(["\n  max-height: 260px;\n  padding: 5px 15px;\n"]);return K=function(){return n},n}function W(){var n=Object(d.a)(["\n  position: absolute;\n  width: 260px;\n  left: calc(50% - 130px);\n  top: calc(100% + 30px);\n  background: rgba(0, 0, 0, 0.9);\n  border-radius: 5px;\n  padding: 15px 5px;\n\n  visibility: ",";\n\n  &::before {\n    content: '';\n    position: absolute;\n    left: calc(50% - 20px);\n    top: -20px;\n    width: 0;\n    height: 0;\n    border-left: 20px solid transparent;\n    border-right: 20px solid transparent;\n    border-bottom: 20px solid rgba(0, 0, 0, 0.9);\n  }\n"]);return W=function(){return n},n}function X(){var n=Object(d.a)(["\n      &::after {\n        position: absolute;\n        right: 0;\n        top: 0;\n        width: 8px;\n        height: 8px;\n        background: #c17285;\n        content: '';\n        border-radius: 50%;\n      }\n    "]);return X=function(){return n},n}function $(){var n=Object(d.a)(["\n  background: none;\n  color: ",";\n  border: 0;\n  position: relative;\n\n  ","\n\n    @media (max-width: ",") {\n        display: none;\n    }\n"]);return $=function(){return n},n}function nn(){var n=Object(d.a)(["\n  position: relative;\n  z-index: 1;\n"]);return nn=function(){return n},n}var en=m.c.div(nn()),tn=m.c.button($(),b[3],(function(n){return n.hasUnread&&Object(m.b)(X())}),"320px"),an=m.c.div(W(),(function(n){return n.visible?"visible":"hidden"})),rn=Object(m.c)(Z.a)(K()),on=m.c.div(Y(),Object(f.b)(.2,b[3]),(function(n){return n.unread&&Object(m.b)(V())}));function cn(){var n=Object(a.useState)(!1),e=Object(G.a)(n,2),t=e[0],i=e[1],o=Object(a.useState)([]),c=Object(G.a)(o,2),l=c[0],u=c[1],p=Object(a.useMemo)((function(){return!!l.find((function(n){return!1===n.read}))}),[l]);function s(){return(s=Object(D.a)(P.a.mark((function n(e){return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,H.put("notifications/".concat(e));case 2:u(l.map((function(n){return n._id===e?Object(T.a)({},n,{read:!0}):n})));case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function n(){return(n=Object(D.a)(P.a.mark((function n(){var e,t;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,H.get("notifications");case 2:e=n.sent,t=e.data.map((function(n){return Object(T.a)({},n,{timeDistance:Object(M.a)(Object(Q.a)(n.createdAt),new Date,{addSuffix:!0,locale:q.a})})})),u(t);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]),r.a.createElement(en,null,r.a.createElement(tn,{onClick:function(){i(!t)},hasUnread:p},r.a.createElement(L.g,{color:b[3],size:20})),r.a.createElement(an,{visible:t},r.a.createElement(rn,null,l.map((function(n){return r.a.createElement(on,{key:n._id,unread:!n.read},r.a.createElement("p",null,n.content),r.a.createElement("time",null,n.timeDistance),!n.read&&r.a.createElement("button",{type:"button",onClick:function(){return function(n){return s.apply(this,arguments)}(n._id)}},"Marcar como lida"))})))))}function ln(){var n=Object(p.c)((function(n){return n.user.profile}));return r.a.createElement(z,null,r.a.createElement(C,null,r.a.createElement("nav",null,r.a.createElement(S.a,{to:"/dashboard"},r.a.createElement("img",{src:A.a,alt:"Logo"})),r.a.createElement(S.a,{to:"/dashboard"},"AGENDA")),r.a.createElement("aside",null,r.a.createElement(cn,null),r.a.createElement(N,null,r.a.createElement("div",null,r.a.createElement("strong",null,n.name),r.a.createElement(S.a,{to:"/profile"},n.email)),r.a.createElement(S.a,{to:"/profile"},r.a.createElement("img",{src:n.avatar&&n.avatar.url||"https://api.adorable.io/avatars/50/abott@adorable.png",alt:"Avatar"}))))))}function un(n){var e=n.children;return r.a.createElement(k,null,r.a.createElement(ln,null),e)}var pn=t(77),sn=t(169),dn=t(168),mn=t(20),fn=t(75),bn={token:null,signed:!1,loading:!1};var gn={profile:null};var xn=Object(mn.c)({auth:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn,e=arguments.length>1?arguments[1]:void 0;return Object(fn.a)(n,(function(n){switch(e.type){case"@auth/SIGN_IN_REQUEST":n.loading=!0;break;case"@auth/SIGN_IN_SUCCESS":n.token=e.payload.token,n.signed=!0,n.loading=!1;break;case"@auth/SIGN_FAILURE":n.loading=!1;break;case"@auth/SIGN_OUT":n.token=null,n.signed=!1}}))},user:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,e=arguments.length>1?arguments[1]:void 0;return Object(fn.a)(n,(function(n){switch(e.type){case"@auth/SIGN_IN_SUCCESS":n.profile=e.payload.user;break;case"@user/UPDATE_PROFILE_SUCCESS":n.profile=e.payload.profile;break;case"@auth/SIGN_OUT":n.profile=null}}))}}),hn=t(14),vn=t(18),En=Object(vn.a)();function On(n,e){return{type:"@auth/SIGN_IN_SUCCESS",payload:{token:n,user:e}}}var yn=P.a.mark(wn),jn=P.a.mark(kn);function wn(n){var e,t,a,r,i,o,l;return P.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return e=n.payload,u.prev=1,t=e.email,a=e.password,u.next=5,Object(hn.call)(H.post,"sessions",{email:t,password:a});case 5:if(r=u.sent,i=r.data,o=i.token,(l=i.user).provider){u.next=10;break}return c.b.error("Usu\xe1rio n\xe3o \xe9 prestador de servi\xe7o"),u.abrupt("return");case 10:return H.defaults.headers.Authorization="Bearer ".concat(o),u.next=13,Object(hn.put)(On(o,l));case 13:En.push("/dashboard"),u.next=21;break;case 16:return u.prev=16,u.t0=u.catch(1),c.b.error("Falha na autentica\xe7\xe3o, verifique seus dados"),u.next=21,Object(hn.put)({type:"@auth/SIGN_FAILURE"});case 21:case"end":return u.stop()}}),yn,null,[[1,16]])}function kn(n){var e,t,a,r;return P.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e=n.payload,i.prev=1,t=e.name,a=e.email,r=e.password,i.next=5,Object(hn.call)(H.post,"users",{name:t,email:a,password:r,provider:!0});case 5:En.push("/"),i.next=13;break;case 8:return i.prev=8,i.t0=i.catch(1),c.b.error("Falha no cadastro, verifique seus dados"),i.next=13,Object(hn.put)({type:"@auth/SIGN_FAILURE"});case 13:case"end":return i.stop()}}),jn,null,[[1,8]])}var Sn=Object(hn.all)([Object(hn.takeLatest)("persist/REHYDRATE",(function(n){var e=n.payload;if(e){var t=e.auth.token;t&&(H.defaults.headers.Authorization="Bearer ".concat(t))}})),Object(hn.takeLatest)("@auth/SIGN_IN_REQUEST",wn),Object(hn.takeLatest)("@auth/SIGN_UP_REQUEST",kn),Object(hn.takeLatest)("@auth/SIGN_OUT",(function(){En.push("/")}))]);function _n(n){return{type:"@user/UPDATE_PROFILE_SUCCESS",payload:{profile:n}}}var In=P.a.mark(Un);function Un(n){var e,t,a,r,i,o,l,u;return P.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return e=n.payload,p.prev=1,t=e.data,a=t.name,r=t.email,i=t.avatar_id,o=Object(s.a)(t,["name","email","avatar_id"]),l=Object.assign({name:a,email:r,avatar_id:i},o.oldPassword?o:{}),p.next=6,Object(hn.call)(H.put,"users",l);case 6:return u=p.sent,c.b.success("Perfil atualizado com sucesso!"),p.next=10,Object(hn.put)(_n(u.data));case 10:p.next=17;break;case 12:return p.prev=12,p.t0=p.catch(1),c.b.error("Erro ao atualizar perfil, confira seus dados!"),p.next=17,Object(hn.put)({type:"@user/UPDATE_PROFILE_FAILURE"});case 17:case"end":return p.stop()}}),In,null,[[1,12]])}var zn=Object(hn.all)([Object(hn.takeLatest)("@user/UPDATE_PROFILE_REQUEST",Un)]),Cn=P.a.mark(Nn);function Nn(){return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(hn.all)([Sn,zn]);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),Cn)}var Rn,An=t(166),Fn=t.n(An),Pn=Object(sn.a)({sagaMonitor:null}),Tn=[Pn],Dn=function(n,e){var t=mn.a.apply(void 0,Object(dn.a)(e));return Object(mn.e)(n,t)}((Rn=xn,Object(pn.a)({key:"gobarber",storage:Fn.a,whitelist:["auth","user"]},Rn)),Tn),Gn=Object(pn.b)(Dn);function Ln(n){var e=n.component,t=n.isPrivate,a=Object(s.a)(n,["component","isPrivate"]),i=Dn.getState().auth.signed;if(!i&&t)return r.a.createElement(u.a,{to:"/"});if(i&&!t)return r.a.createElement(u.a,{to:"/dashboard"});var o=i?un:j;return r.a.createElement(u.b,Object.assign({},a,{render:function(n){return r.a.createElement(o,null,r.a.createElement(e,n))}}))}Pn.run(Nn),Ln.defaultProps={isPrivate:!1};var Mn=t(16),Qn=t(33),qn=Qn.object().shape({email:Qn.string().email("Insira um e-mail v\xe1lido").required("O e-mail \xe9 obrigat\xf3rio"),password:Qn.string().required("A senha \xe9 obrigat\xf3ria")});function Bn(){var n=Object(p.b)(),e=Object(p.c)((function(n){return n.auth.loading}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:A.a,alt:"GoBarber"}),r.a.createElement(Mn.a,{schema:qn,onSubmit:function(e){var t=e.email,a=e.password;n(function(n,e){return{type:"@auth/SIGN_IN_REQUEST",payload:{email:n,password:e}}}(t,a))}},r.a.createElement(Mn.b,{name:"email",type:"email",placeholder:"Seu e-mail"}),r.a.createElement(Mn.b,{name:"password",type:"password",placeholder:"Sua senha"}),r.a.createElement("button",{type:"submit"},e?"Carregando...":"Acessar"),r.a.createElement(S.a,{to:"/register"},"Criar conta gratuita")))}var Hn=Qn.object().shape({name:Qn.string().required("O nome \xe9 obrigat\xf3rio"),email:Qn.string().email("Insira um e-mail v\xe1lido").required("O e-mail \xe9 obrigat\xf3rio"),password:Qn.string().required("A senha \xe9 obrigat\xf3ria")});function Jn(){var n=Object(p.b)(),e=Object(p.c)((function(n){return n.auth.loading}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:A.a,alt:"avatar"}),r.a.createElement(Mn.a,{schema:Hn,onSubmit:function(e){var t=e.name,a=e.email,r=e.password;n(function(n,e,t){return{type:"@auth/SIGN_UP_REQUEST",payload:{name:n,email:e,password:t}}}(t,a,r))}},r.a.createElement(Mn.b,{name:"name",placeholder:"Nome Completo"}),r.a.createElement(Mn.b,{name:"email",type:"email",placeholder:"Seu e-mail"}),r.a.createElement(Mn.b,{name:"password",type:"password",placeholder:"Sua senha"}),r.a.createElement("button",{type:"submit"},e?"Carregando...":"Criar conta"),r.a.createElement(S.a,{to:"/"},"J\xe1 tenho Login")))}var Zn=t(354),Vn=t(355),Yn=t(356),Kn=t(357),Wn=t(362),Xn=t(358),$n=t(359),ne=t(360),ee=t(361),te=t(167),ae=t(76),re=t(364);function ie(){var n=Object(d.a)(["\n  border-radius: 4px;\n"]);return ie=function(){return n},n}function oe(){var n=Object(d.a)(["\n  background: none;\n  border: none;\n  padding: 0 3px;\n  margin-right: 10px;\n  cursor: pointer;\n  opacity: ",";\n"]);return oe=function(){return n},n}function ce(){var n=Object(d.a)(["\n  background: none;\n  border: none;\n  padding: 0 3px;\n  cursor: pointer;\n  opacity: ",";\n"]);return ce=function(){return n},n}function le(){var n=Object(d.a)(["\n  display: flex;\n  align-self: center;\n  flex-direction: column;\n  width: 100%;\n  max-width: 600px;\n  padding-left: 13px;\n  max-height: calc(100% - 100px);\n\n  header {\n    display: flex;\n    align-self: center;\n    align-items: center;\n    text-align: center;\n    margin-top: 15px;\n\n    button {\n      all: unset; /* Zera o elemento */\n      max-height: 36px;\n      cursor: pointer;\n    }\n\n    strong {\n      font-size: 16px;\n      min-width: 120px;\n    }\n  }\n\n  ul {\n    width: 100%;\n    display: grid;\n    grid-template-columns: ",";\n    grid-gap: 15px;\n    padding-right: 15px;\n    height: 100%;\n  }\n\n  div {\n    display: flex;\n    justify-content: space-between;\n    padding-bottom: 5px;\n\n    > div {\n      padding-bottom: 0;\n    }\n  }\n"]);return le=function(){return n},n}var ue=m.c.div(le(),(function(n){return"dashboard"===n.view?"repeat( auto-fit, minmax(150px, 1fr))":"repeat(1, 1fr)"})),pe=m.c.button(ce(),(function(n){return"list"===n.view?1:.3})),se=m.c.button(oe(),(function(n){return"dashboard"===n.view?1:.3})),de=Object(m.c)(Z.a)(ie());function me(){var n=Object(d.a)(["\n  background: ",";\n  color: #000;\n  padding: 20px;\n  border-radius: 4px;\n  border: ",";\n  opacity: ",";\n  cursor: pointer;\n\n  strong {\n    display: flex;\n    color: ",";\n    font-size: 20px;\n    font-weight: normal;\n  }\n\n  span {\n    display: flex;\n    align-items: center;\n    margin-top: 3px;\n    color: ",";\n  }\n\n  :hover {\n    opacity: 1;\n  }\n"]);return me=function(){return n},n}var fe=m.c.li(me(),(function(n){return n.background||"#fff"}),(function(n){return n.border||"none"}),(function(n){return n.opacity||"1"}),(function(n){return n.status?"#EEE":b[2]}),(function(n){return n.status?"#EEE":b[2]}));function be(n){var e=n.children,t=Object(s.a)(n,["children"]);return r.a.createElement(fe,t,e)}function ge(){var n=Object(d.a)(["\n  display: flex;\n\n  div {\n    display: flex;\n    flex-direction: column;\n    align-items: left;\n    padding: 0;\n    max-width: 100px;\n\n    strong {\n      display: flex;\n      color: ",";\n      font-size: 20px;\n      font-weight: normal;\n    }\n\n    > span {\n      margin: 3px 5px 3px 0;\n      padding: 0;\n      font-size: 12px;\n      color: ",";\n    }\n\n    div {\n      display: flex;\n      flex-direction: row;\n    }\n  }\n\n  span {\n    display: flex;\n    flex: 1;\n    align-items: center;\n    font-size: 16px;\n    padding: 0 10px;\n    color: ",";\n  }\n\n  img {\n    display: ",";\n    align-self: center;\n    width: 43px;\n    height: 43px;\n    border-radius: 50%;\n  }\n"]);return ge=function(){return n},n}var xe=m.c.li(ge(),(function(n){return n.status?"#eee":"#999"}),(function(n){return n.status?"#eee":"#999"}),(function(n){return n.status?"#eee":"#999"}),(function(n){return!n.status&&"none"}));function he(n){var e=n.time,t=Object(s.a)(n,["time"]);return r.a.createElement(xe,t,r.a.createElement("img",{src:e.appointment&&e.appointment.user.avatar.url||"https://api.adorable.io/avatars/50/abott@adorable.png",alt:"Avatar"}),r.a.createElement("span",null,e.appointment&&e.appointment.user.name),r.a.createElement("div",null,r.a.createElement("strong",null,e.time),r.a.createElement("div",null,r.a.createElement("span",null,e.appointment?"Reservado"===h[e.appointment.status]?r.a.createElement(L.f,null):"Confirmado"===h[e.appointment.status]?r.a.createElement(L.d,null):r.a.createElement(L.e,null):r.a.createElement(L.c,null)),r.a.createElement("span",null,e.appointment?h[e.appointment.status]:"Dispon\xedvel"))))}function ve(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n\n  div {\n    display: flex;\n    flex-direction: column;\n    align-items: left;\n\n    strong {\n      display: flex;\n      color: ",";\n      font-size: 20px;\n      font-weight: normal;\n    }\n\n    span {\n      display: flex;\n      align-items: center;\n      margin: 3px 5px 3px 0;\n      font-size: 12px;\n      color: ",";\n    }\n\n    div {\n      display: flex;\n      flex-direction: row;\n    }\n  }\n\n  img {\n    display: ",";\n    align-self: center;\n    width: 43px;\n    height: 43px;\n    border-radius: 50%;\n    border: 1px solid #999;\n  }\n"]);return ve=function(){return n},n}var Ee=m.c.li(ve(),(function(n){return n.status?"#eee":"#999"}),(function(n){return n.status?"#eee":"#999"}),(function(n){return!n.status&&"none"}));function Oe(n){var e=n.time,t=Object(s.a)(n,["time"]);return r.a.createElement(Ee,t,r.a.createElement("div",null,r.a.createElement("strong",null,e.time),r.a.createElement("div",null,r.a.createElement("span",null,e.appointment?"Reservado"===h[e.appointment.status]?r.a.createElement(L.f,null):"Confirmado"===h[e.appointment.status]?r.a.createElement(L.d,null):r.a.createElement(L.e,null):r.a.createElement(L.c,null)),r.a.createElement("span",null,e.appointment?h[e.appointment.status]:"Dispon\xedvel"))),r.a.createElement("img",{src:e.appointment&&e.appointment.user.avatar.url||"https://api.adorable.io/avatars/50/abott@adorable.png",alt:"Avatar"}))}function ye(){var n=Object(a.useState)([]),e=Object(G.a)(n,2),t=e[0],i=e[1],o=Object(a.useState)(new Date),c=Object(G.a)(o,2),l=c[0],u=c[1],p=Object(a.useState)("dashboard"),s=Object(G.a)(p,2),d=s[0],m=s[1];Zn.a(l)?x[Vn.a(l)]="Hoje":Yn.a(l)?x[Vn.a(l)]="Amanh\xe3":Kn.a(l)&&(x[Vn.a(l)]="Ontem");var f=Object(a.useMemo)((function(){return Wn.a(l,"d 'de' MMMM",{locale:q.a})}),[l]);return Object(a.useEffect)((function(){function n(){return(n=Object(D.a)(P.a.mark((function n(){var e,t,a;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,H.get("schedules",{params:{date:l}});case 2:e=n.sent,t=Intl.DateTimeFormat().resolvedOptions().timeZone,a=g.map((function(n){var a=Xn.a($n.a(ne.a(l,n),0),0),r=Object(re.a)(a,t);return{time:"".concat(n,":00h"),past:ee.a(r,new Date),appointment:e.data.find((function(n){return Wn.a(Q.a(n.date),"yyyy-MM-dd'T'HH':'mm")===Wn.a(r,"yyyy-MM-dd'T'HH':'mm")}))}})),i(a);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[l]),Object(a.useEffect)((function(){m(d)}),[d]),r.a.createElement(ue,{view:d},r.a.createElement("header",null,r.a.createElement("button",{type:"button",onClick:function(){u(te.a(l,1))}},r.a.createElement(L.a,{size:36,color:b[2]})),r.a.createElement("strong",null,x[Vn.a(l)]),r.a.createElement("button",{type:"button",onClick:function(){u(ae.a(l,1))}},r.a.createElement(L.b,{size:36,color:b[2]}))),r.a.createElement("div",null,r.a.createElement("span",null,f),r.a.createElement("div",null,r.a.createElement(pe,{type:"button",view:d,onClick:function(){return m("list")}},r.a.createElement(L.h,{size:24,color:b[2]})),r.a.createElement(se,{type:"button",view:d,onClick:function(){return m("dashboard")}},r.a.createElement(L.i,{size:24,color:b[2]})))),r.a.createElement(de,null,r.a.createElement("ul",null,t.map((function(n){return r.a.createElement(be,{key:n.time,border:"1px solid #FFF",opacity:n.past?.7:1,background:n.appointment&&b[n.appointment.status-1]},"dashboard"===d?r.a.createElement(Oe,{time:n,status:n.appointment&&n.appointment.status}):r.a.createElement(he,{time:n,status:n.appointment&&n.appointment.status}))})))))}function je(){var n=Object(d.a)(["\n  border-radius: 4px;\n"]);return je=function(){return n},n}function we(){var n=Object(d.a)(["\n  margin: 50px auto;\n  width: 100%;\n  max-width: 600px;\n  padding: 15px;\n\n  form {\n    display: flex;\n    flex-direction: column;\n    margin-top: 30px;\n\n    input {\n      background: rgba(0, 0, 0, 0.1);\n      border: 0;\n      border-radius: 4px;\n      height: 44px;\n      padding: 0 15px;\n      color: #fff;\n      margin: 0 0 5px;\n\n      &::placeholder {\n        color: rgba(255, 255, 255, 0.7);\n      }\n    }\n\n    span {\n      color: #fb6f91;\n      align-self: flex-start;\n      margin: 0 0 15px 10px;\n      font-size: 12px;\n    }\n\n    hr {\n      border: 0;\n      height: 1px;\n      background: rgba(255, 255, 255, 0.2);\n      margin: 10px 0 20px;\n    }\n\n    button {\n      margin: 5px 0 0;\n      height: 44px;\n      background: ",";\n      font-weight: bold;\n      color: #fff;\n      border: 0;\n      border-radius: 4px;\n      font-size: 16px;\n\n      &:hover {\n        background: ",";\n      }\n    }\n\n    a {\n      color: #fff;\n      margin-top: 15px;\n      font-size: 14px;\n      opacity: 0.8;\n\n      &:hover {\n        opacity: 1;\n      }\n    }\n  }\n\n  > button {\n    width: 100%;\n    margin: 10px 0 0;\n    height: 44px;\n    background: #f64c75;\n    font-weight: bold;\n    color: #fff;\n    border: 0;\n    border-radius: 4px;\n    font-size: 16px;\n\n    &:hover {\n      background: ",";\n    }\n  }\n"]);return we=function(){return n},n}var ke=m.c.div(we(),b[0],Object(f.a)(.03,b[0]),Object(f.a)(.03,"#f64c75")),Se=Object(m.c)(Z.a)(je());function _e(){var n=Object(d.a)(["\n  align-self: center;\n  margin-bottom: 30px;\n\n  label {\n    cursor: pointer;\n\n    &:hover {\n      opacity: 0.7;\n    }\n\n    img {\n      height: 120px;\n      width: 120px;\n      border-radius: 50%;\n      border: 3px solid #d6d6d6;\n      background: #eee;\n    }\n\n    input {\n      display: none;\n    }\n  }\n"]);return _e=function(){return n},n}var Ie=m.c.div(_e());function Ue(){var n=Object(Mn.c)("avatar"),e=n.defaultValue,t=n.registerField,i=Object(a.useState)(e&&e.id),o=Object(G.a)(i,2),c=o[0],l=o[1],u=Object(a.useState)(e&&e.url),p=Object(G.a)(u,2),s=p[0],d=p[1],m=Object(a.useRef)();function f(){return(f=Object(D.a)(P.a.mark((function n(e){var t,a,r,i,o;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(t=new FormData).append("file",e.target.files[0]),n.next=4,H.post("files",t);case 4:a=n.sent,r=a.data,i=r.id,o=r.url,l(i),d(o);case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(a.useEffect)((function(){m.current&&t({name:"avatar_id",ref:m.current,path:"dataset.file"})}),[]),r.a.createElement(Ie,null,r.a.createElement("label",{htmlFor:"avatar"},r.a.createElement("img",{src:s||"https://api.adorable.io/avatars/50/abott@adorable.png",alt:""}),r.a.createElement("input",{type:"file",id:"avatar",accept:"image/*","data-file":c,onChange:function(n){return f.apply(this,arguments)},ref:m})))}function ze(){var n=Object(p.b)(),e=Object(p.c)((function(n){return n.user.profile}));return r.a.createElement(Se,null,r.a.createElement(ke,null,r.a.createElement(Mn.a,{initialData:e,onSubmit:function(e){n(function(n){return{type:"@user/UPDATE_PROFILE_REQUEST",payload:{data:n}}}(e))}},r.a.createElement(Ue,{name:"avatar_id"}),r.a.createElement(Mn.b,{name:"name",placeholder:"Nome completo"}),r.a.createElement(Mn.b,{name:"email",type:"email",placeholder:"Seu endere\xe7o de email"}),r.a.createElement("hr",null),r.a.createElement(Mn.b,{type:"password",name:"oldPassword",placeholder:"Sua senha atual"}),r.a.createElement(Mn.b,{type:"password",name:"password",placeholder:"Nova senha"}),r.a.createElement(Mn.b,{type:"password",name:"confirmPassword",placeholder:"Confirma\xe7\xe3o de senha"}),r.a.createElement("button",{type:"submit"},"Atualizar perfil")),r.a.createElement("button",{type:"submit",onClick:function(){n({type:"@auth/SIGN_OUT"})}},"Sair da aplica\xe7\xe3o")))}function Ce(){return r.a.createElement(u.d,null,r.a.createElement(Ln,{path:"/",exact:!0,component:Bn}),r.a.createElement(Ln,{path:"/register",component:Jn}),r.a.createElement(Ln,{path:"/dashboard",component:ye,isPrivate:!0}),r.a.createElement(Ln,{path:"/profile",component:ze,isPrivate:!0}))}t(347),t(348);function Ne(){var n=Object(d.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap');\n\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  *:focus {\n    outline: 0;\n  }\n\n  html, body, #root {\n    height: 100%;\n  }\n\n  body, input, button {\n    font: 14px 'Roboto', sans-serif;\n  }\n\n  a {\n    text-decoration: none;\n  }\n\n  ul {\n    list-style: none;\n  }\n\n  button {\n    cursor: pointer;\n  }\n"]);return Ne=function(){return n},n}var Re=Object(m.a)(Ne());var Ae=function(){return r.a.createElement(p.a,{store:Dn},r.a.createElement(l.a,{persistor:Gn},r.a.createElement(u.c,{history:En},r.a.createElement(Ce,null),r.a.createElement(Re,null),r.a.createElement(c.a,{autoClose:2e3}))))};o.a.render(r.a.createElement(Ae,null),document.getElementById("root"))},52:function(n,e,t){n.exports=t.p+"static/media/nova-logo-pxm.6175d458.png"}},[[173,1,2]]]);
//# sourceMappingURL=main.bddd8fbe.chunk.js.map